<link rel="import" href="dcompras-base-info.html">

<dom-module id="dcompras-listado-productos">
    <template>
        <style>
            div{
                width: auto;
                cursor: pointer;
                border-radius: 4px;
                
                @apply --dcompras-listado-productos-div
            }
        </style>
        
        <template is="dom-if" if="[[products]]">
            <template is="dom-repeat" items="[[products]]" as="product" id="list">
                <div>
                    <dcompras-base-info picture="[[product.picture]]" name="[[product.name]]" stock="[[product.stock]]" sales="[[product.sales]]" available="[[product.available]]" id-product="[[product.idProduct]]" price="[[product.price]]" on-tap="_fireClick" id="productItem"></dcompras-base-info>
                </div>
            </template>
        </template>
        <template is="dom-if" if="[[!products]]">
            <div id="noList">
                <p>No hay productos a listar.</p>
            </div>
        </template>
    </template>
    <script>
        Polymer({
            is: "dcompras-listado-productos",
            properties: {
                picture: {
                    type: String,
                    value: ""
                },
                name: {
                    type: String,
                    value: ""
                },
                stock: {
                    type: Number,
                    value: null
                },
                sales: {
                    type: Number,
                    value: null
                },
                available: {
                    type: Number,
                    value: null
                },
                price: {
                    type: Number,
                    value: null
                },
                idProduct: {
                    type: Number,
                    value: null
                }
            },
            _fireClick: function(event) {
                this.fire("show-detail", event.model.product);
            },
            _fireDetail: function(event){
                console.log(event);
            }
        });
    </script>
</dom-module>